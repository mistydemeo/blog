
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Future Is Now</title>
  <meta name="author" content="Misty De Meo">

  
  <meta name="description" content="One of the most useful things about running software in unusual configurations is that sometimes it exposes unexpected flaws you never knew you had. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mistys-internet.website/blog/posts/2">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/blog/atom.xml" rel="alternate" title="The Future Is Now" type="application/atom+xml">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">The Future Is Now</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/blog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mistys-internet.website/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2013/04/04/tigers-which-is-terrible/">Tiger’s `which` Is Terrible; or, Necessity Is the Mother of Invention</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-04-04T07:11:00-07:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>7:11 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the most useful things about running software in unusual configurations is that sometimes it exposes unexpected flaws you never knew you had.</p>

<p>The <code>which</code> utility is one of those commandline niceties you never really think about until it’s not there anymore. While sometimes implemented as a shell builtin<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>, it’s also frequently shipped as a standalone utility. Apple’s modern version, which is part of the shell_utils package and crystallized around Snow Leopard, works like this:</p>

<ul>
<li>If the specified tool is found on the path, prints the path to the first version found (e.g., the one the shell would execute), and exits 0.</li>
<li>If the specified tool isn’t found, prints a newline and exits 1.</li>
</ul>


<p>This version of the tool is really useful in shell scripts to determine a) if a program is present, and b) where it’s located, and until fairly recently Homebrew used it extensively. Unfortunately, early on in my work on Tigerbrew, I discovered that Tiger’s version was… deficient. It works like this:</p>

<ul>
<li>If the specified tool is found on the path, prints the path to the first version found, and exits 0.</li>
<li>If the specified tool isn’t found, prints a verbose message to stdout, and exits 0.</li>
</ul>


<p>The lack of a meaningful exit status and the error message on stdout are both pretty poor behaviour for a CLI app, and broke Homebrew’s assumptions about how it should work.</p>

<p>To work around this, I replaced Homebrew’s wrapper function with a two-line native Ruby method for Tigerbrew, like so:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">which</span> <span class="n">cmd</span>
</span><span class='line'>  <span class="n">dir</span> <span class="o">=</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;PATH&#39;</span><span class="o">].</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span> <span class="p">{</span><span class="o">|</span><span class="nb">p</span><span class="o">|</span> <span class="no">File</span><span class="o">.</span><span class="n">executable?</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">p</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)}</span>
</span><span class='line'>  <span class="no">Pathname</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dir</span><span class="p">,</span> <span class="n">cmd</span><span class="p">))</span> <span class="k">unless</span> <span class="n">dir</span><span class="o">.</span><span class="n">nil?</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>As it turns out, not only does it work better on Tiger, but this method is actually faster<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> than shelling out like Homebrew did; process spawning is relatively expensive. As a result, I ended up using the new helper in Homebrew even though it wasn’t strictly necessary.</p>

<p>(And as for the commandline utility, Tigerbrew has a formula for the <a href="https://github.com/mistydemeo/tigerbrew/blob/master/Library/Formula/shell_cmds.rb">shell_cmds</a> collection of utilities.)</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>zsh does; bash doesn’t.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>On the millisecond scale, at least.<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2013/04/02/adventures-with-ruby-1-8-2/">Adventures With Ruby 1.8.2</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-04-02T21:59:00-07:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2013</span></span> <span class='time'>9:59 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Homebrew has always used the version of Ruby which comes with OS X,<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> a design decision I decided to keep with Tigerbrew. Tiger comes with Ruby 1.8.2, built on Christmas Day, 2004, and with a version of Ruby that old I went in steeling myself for the inevitable ton of compatibility issues.</p>

<p>On the whole I was pleasantly surprised. Most of what Homebrew uses is provided in exactly the same form, and while there are differences that range from puzzling<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> to major<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>, pretty much everything Just Works.</p>

<p>Except, at first, for Pathname. Ruby’s Pathname class, which is an object-oriented wrapper around the File and Dir classes, is at the heart of Homebrew’s file management. The first time I tried to install something with the newborn Tigerbrew, I was quickly treated to a strange exception with an equally mysterious backtrace: <code>Errno::ENOTDIR: Not a directory</code>.</p>

<p>Curious, I dug in. I soon discovered that the bug occurred while Homebrew was unlinking an existing version of a package before beginning to install an upgrade. (For those not in the know, Homebrew installs software into isolated versioned prefixes. The active version of a given package is symlinked into the standard <code>/usr/local</code> locations.) Most of the files were linked and unlinked just fine, but a few files caused the method Pathname#unlink to throw an exception every time. Eventually I noticed a pattern — every symlink that Pathname choked on represented a directory. Once I noticed that, it clicked.</p>

<p>For those who don’t know, symlinks are actually treated on the filesystem level as special files containing their target as text. For most operations, symlinks transparently act as their targets. However, applications which hit the filesystem directly will see them as files — even when they point to directories. Since Pathname handles files and directories differently, handing its instance methods off to File or Dir as appropriate, the bug happened something like this:</p>

<ul>
<li>The #unlink method is called on a Pathname object representing a symlink to a directory.</li>
<li>Pathname examines the object to see if it represents a file or directory, in order to determine whether to call File.unlink or Dir.unlink.</li>
<li>In doing so, Pathname follows the symlink to its target and examines the properties <em>of the target</em>.</li>
<li>Seeing that the target is a directory, Pathname calls Dir.unlink <em>on the original symlink</em>.</li>
<li>Dir.unlink raises <code>Errno::ENOTDIR</code> because, of course, the symlink isn’t a directory.</li>
</ul>


<p>The overridden version of the method can be <a href="https://github.com/mistydemeo/tigerbrew/blob/992ec641652097bb619e9a8de153e436f7dbed16/Library/Homebrew/extend/pathname.rb#L476-L490">found here</a>. The rest of Tigerbrew’s current backports are in Tigerbrew’s file <a href="https://github.com/mistydemeo/tigerbrew/blob/master/Library/Homebrew/extend/tiger.rb">extend/tiger.rb</a>, for the curious.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>For predictability, and so the user doesn’t have to install Ruby before installing Homebrew.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>String’s <code>[]</code> operator always returns the sliced character’s ASCII ordinal, not a string.<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p>File#flock doesn’t exist in any form.<a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2013/04/01/introducing-tigerbrew/">Introducing Tigerbrew</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-04-01T19:21:00-07:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2013</span></span> <span class='time'>7:21 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some of you may know that my other gig is <a href="http://brew.sh/">Homebrew</a>, the package manager for Mac OS X. Over the last few months, I’ve been spending some time on a fork of Homebrew that’s starting to become usable enough that I think it’s ready to be announced.</p>

<p>When I was attending the AMIA<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> conference in December, my partner and I were travelling together; while I was at the conference during the day, she worked from various places in Seattle on her laptop. Since it’s practically impossible to attend a modern conference without a laptop, and she uses a desktop at home, I dug out my 2005-era PowerBook G4 to take notes. It may be eight years old, but as soon as I opened it up I remembered why I loved that laptop so much. It’s still in great shape, and it feels like a crime to leave it sitting unused so much of the time.</p>

<p>It’s slow by modern standards, of course, but the thing really keeping it from being usable all the time is software. Apple’s left PowerPC behind as of Mac OS X Leopard<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>, and so have nearly all developers at this point. There are still a few developers carrying the torch (shoutouts to <a href="http://www.floodgap.com/software/tenfourfox">TenFourFox</a>), but as a commandline junkie what I really need is an up-to-date shell[^2] and CLI software<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>. And as big Homebrew fan, as well as a developer, MacPorts just wasn’t going to cut it. <a href="https://github.com/mistydemeo/tigerbrew/">Tigerbrew</a> was born.</p>

<p>The first version of Tigerbrew was pulled together over an evening at the hotel after the first day of the conference, and I’ve been plugging away at it regularly since. At this point I’m proud to say that a significant number of packages build flawlessly,<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup> and thanks to <a href="https://github.com/mistydemeo/tigerbrew/wiki/New-formulae-in-Tigerbrew">some backports</a> from newer versions of OS X<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup> Tigerbrew can supply a much more modern set of essential development tools than Apple provides.</p>

<p>Tigerbrew’s still very much an alpha, and there’s some more work needed until it’s mature, but at this point I consider it ready enough to announce to the world.<sup id="fnref:6"><a href="#fn:6" rel="footnote">6</a></sup> If you have a PowerPC Mac yearning to be used again, why not <a href="https://github.com/mistydemeo/tigerbrew/">give it a go</a>?</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>Association of Moving Image Archivists<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>And many hardcore PowerPC users stick with their old Macs for OS 9 compatibility, which was last supported in Tiger.<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p>bash 2.5 doesn’t cut it.<a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
<li id="fn:4">
<p>Even complex software with a lot of moving parts, like FFmpeg.<a href="#fnref:4" rev="footnote">&#8617;</a></p></li>
<li id="fn:5">
<p>I’m very indebted to the MacPorts developers, whose portfiles served as a reference for the buildsystems for several of these.<a href="#fnref:5" rev="footnote">&#8617;</a></p></li>
<li id="fn:6">
<p>Development’s been happening in the public for months, of course, and there are already a few other users out there.<a href="#fnref:6" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2012/11/21/psa-homebrew-digipres-repository-now-available/">PSA: Homebrew-digipres Repository Now Available!</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-11-21T22:13:00-08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2012</span></span> <span class='time'>10:13 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Outside of archivy, I’m also a collaborator on <a href="http://brew.sh">Homebrew</a>, the awesome, lightweight package manager for OS X. I’ve been building a private repository of niche packages which aren’t available in the core repository for some reason or another, and ended up collecting enough digital preservation tools to create a new digital preservation-focused repository. You can find the new homebrew-digipres here: <a href="https://github.com/mistydemeo/homebrew-digipres">https://github.com/mistydemeo/homebrew-digipres</a> I’d welcome any contributions if you want to improve an existing formula, submit updates, or add a new package! Fork away.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2012/05/01/file-id-hackathon-debrief-fits-handles-video-now/">File ID Hackathon Debrief: FITS Handles Video Now!</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-05-01T22:44:42-07:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>1</span><span class='date-suffix'>st</span>, <span class='date-year'>2012</span></span> <span class='time'>10:44 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I took part in the 24-hour file ID hackathon November 16th. It was a fantastic event, and between us the 15-ish participants got a lot of practical work done. You can read more about it and what was accomplished at the <a href="http://wiki.curatecamp.org/index.php/CURATEcamp_24_hour_worldwide_file_id_hackathon_Nov_16_2012">CURATEcamp wiki</a>.</p>

<p>I spent most of my time working with video content and with <a href="http://fitstool.org/">FITS</a>, the File Identification Tool Set. FITS is a useful tool, but it’s traditionally had some problems that have held it back from being as effective as it could for digital preservation. Aside from its performance, which is an issue that still needs to be addressed, its support for audio-visual material has been pretty poor. I addressed a couple of the more serious items:</p>

<h3>Its embedded Exiftool was badly out of date</h3>

<p>FITS bundles its own versions of the various tools it uses, rather than use the versions installed elsewhere on the machine. In theory this is a good idea; incompatibilities in the tools it uses could subtly break its output. In practice, however, it means that FITS has missed out on a lot of format identification improvements its tools have made. Before the hackathon FITS included exiftool 7.74, which was released in April, 2009. Back then exiftool had only rudimentary video support, but it’s made enormous strides in past several years and now has very robust video metadata extraction. The first thing I did in FITS was update the embedded exiftool to the current release. That alone has made a big difference in format detection.</p>

<p>In the future I think it would be best to rethink the policy of embedding tools rather than using external copies, or at least provide the option to use another version the user has installed. exiftool is updated once every week or two and changes rapidly. I doubt FITS will be updated that frequently. A better option might be to recommend specific known-good versions of tools, but allow the user the option of running whichever tool version they prefer.</p>

<h3>Its metadata mapping for video formats was primitive</h3>

<p>FITS uses XSLT to map metadata fields from their native tag names to its own vocabulary, but the list of tags used for video was very short compared to other formats. As a result, a lot of potentially useful information from exiftool’s output was being discarded. Based on videos in my collection which had extensive embedded metadata, I beefed up FITS’s mapping table to enable it to grab many more common tags.</p>

<p>While this made a good short-term solution, it made me think a bit more about how FITS approaches mapping fields. In particular,</p>

<ol>
<li><p>FITS has separate mappings for types such as “image”, “video”, “audio.” In practice, though, many of these formats use the exact same tags to mean the same things; this means either some mapping logic is duplicated, or certain fields are skipped for some files even though they’re mapped for others. After looking at practical examples of how FITS maps images and videos, I’m not convinced that treating them separately is practical.</p></li>
<li><p>Beyond that, FITS uses file extension to determine whether a file is an image, video, etc. In practice many container file extensions can represent many kinds of files; extension is a pretty fragile way of determining type. If FITS keeps a distinction between file type mappings, it should move to using something like mimetype instead of extension.</p></li>
</ol>


<p>Aside from my work improving FITS, I also submitted a set of Quicktime videos to the OpenPlanets Format Corpus on GitHub. The 61-video set covers almost every codec Apple ships with Quicktime and Final Cut Pro, and should be useful for anyone who wants to try to identify individual codec/container combinations. They’re available at: <a href="https://github.com/openpreserve/format-corpus/tree/master/video/Quicktime">https://github.com/openplanets/format-corpus/tree/master/video/Quicktime</a></p>

<p>I’ll end this off with some eye candy, to show how nicely FITS’s video support has improved.</p>

<p>Before. The video is detected only as “Unknown Binary” (this was sadly common for video), and no meaningful metadata is extracted.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;fits</span> <span class="na">xmlns=</span><span class="s">&quot;http://hul.harvard.edu/ois/xml/ns/fits/fits_output&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://hul.harvard.edu/ois/xml/ns/fits/fits_output http://hul.harvard.edu/ois/xml/xsd/fits/fits_output.xsd&quot;</span> <span class="na">version=</span><span class="s">&quot;0.6.1&quot;</span> <span class="na">timestamp=</span><span class="s">&quot;11/17/12 10:18 PM&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;identification</span> <span class="na">status=</span><span class="s">&quot;UNKNOWN&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;identity</span> <span class="na">format=</span><span class="s">&quot;Unknown Binary&quot;</span> <span class="na">mimetype=</span><span class="s">&quot;application/octet-stream&quot;</span> <span class="na">toolname=</span><span class="s">&quot;FITS&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.6.1&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;tool</span> <span class="na">toolname=</span><span class="s">&quot;Jhove&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;1.5&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/identity&gt;</span>
</span><span class='line'><span class="nt">&lt;/identification&gt;</span>
</span><span class='line'><span class="nt">&lt;fileinfo&gt;</span>
</span><span class='line'><span class="nt">&lt;filepath</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>/Users/mistydemeo/Downloads/set1/00000.MTS<span class="nt">&lt;/filepath&gt;</span>
</span><span class='line'><span class="nt">&lt;filename</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>/Users/mistydemeo/Downloads/set1/00000.MTS<span class="nt">&lt;/filename&gt;</span>
</span><span class='line'><span class="nt">&lt;size</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>6039552<span class="nt">&lt;/size&gt;</span>
</span><span class='line'><span class="nt">&lt;md5checksum</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>8c7c728334017a3ab4caff6e78b30037<span class="nt">&lt;/md5checksum&gt;</span>
</span><span class='line'><span class="nt">&lt;fslastmodified</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>1261684470000<span class="nt">&lt;/fslastmodified&gt;</span>
</span><span class='line'><span class="nt">&lt;/fileinfo&gt;</span>
</span><span class='line'><span class="nt">&lt;filestatus</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;metadata</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/fits&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>After. Not only is the video format extracted, but a good 18 video tags are extracted.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;fits</span> <span class="na">xmlns=</span><span class="s">&quot;http://hul.harvard.edu/ois/xml/ns/fits/fits_output&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://hul.harvard.edu/ois/xml/ns/fits/fits_output http://hul.harvard.edu/ois/xml/xsd/fits/fits_output.xsd&quot;</span> <span class="na">version=</span><span class="s">&quot;0.6.1&quot;</span> <span class="na">timestamp=</span><span class="s">&quot;11/17/12 10:20 PM&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;identification</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;identity</span> <span class="na">format=</span><span class="s">&quot;M2TS&quot;</span> <span class="na">mimetype=</span><span class="s">&quot;video/m2ts&quot;</span> <span class="na">toolname=</span><span class="s">&quot;FITS&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.6.1&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;tool</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/identity&gt;</span>
</span><span class='line'><span class="nt">&lt;/identification&gt;</span>
</span><span class='line'><span class="nt">&lt;fileinfo&gt;</span>
</span><span class='line'><span class="nt">&lt;lastmodified</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>2009:12:24 13:54:36-06:00<span class="nt">&lt;/lastmodified&gt;</span>
</span><span class='line'><span class="nt">&lt;filepath</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>/Users/mistydemeo/Downloads/set1/00001.MTS<span class="nt">&lt;/filepath&gt;</span>
</span><span class='line'><span class="nt">&lt;filename</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>/Users/mistydemeo/Downloads/set1/00001.MTS<span class="nt">&lt;/filename&gt;</span>
</span><span class='line'><span class="nt">&lt;size</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>4552704<span class="nt">&lt;/size&gt;</span>
</span><span class='line'><span class="nt">&lt;md5checksum</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>770fd667d68ca8e6509670b0ef50e61c<span class="nt">&lt;/md5checksum&gt;</span>
</span><span class='line'><span class="nt">&lt;fslastmodified</span> <span class="na">toolname=</span><span class="s">&quot;OIS File Information&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;0.1&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>1261684476000<span class="nt">&lt;/fslastmodified&gt;</span>
</span><span class='line'><span class="nt">&lt;/fileinfo&gt;</span>
</span><span class='line'><span class="nt">&lt;filestatus</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;metadata&gt;</span>
</span><span class='line'><span class="nt">&lt;video&gt;</span>
</span><span class='line'><span class="nt">&lt;digitalCameraManufacturer</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>Sony<span class="nt">&lt;/digitalCameraManufacturer&gt;</span>
</span><span class='line'><span class="nt">&lt;digitalCameraModelName</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>HXR-NX5U<span class="nt">&lt;/digitalCameraModelName&gt;</span>
</span><span class='line'><span class="nt">&lt;duration</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>0.09 s<span class="nt">&lt;/duration&gt;</span>
</span><span class='line'><span class="nt">&lt;imageWidth</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>1920<span class="nt">&lt;/imageWidth&gt;</span>
</span><span class='line'><span class="nt">&lt;imageHeight</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>1080<span class="nt">&lt;/imageHeight&gt;</span>
</span><span class='line'><span class="nt">&lt;videoStreamType</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>DigiCipher II Video<span class="nt">&lt;/videoStreamType&gt;</span>
</span><span class='line'><span class="nt">&lt;shutterSpeedValue</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>1/60<span class="nt">&lt;/shutterSpeedValue&gt;</span>
</span><span class='line'><span class="nt">&lt;apertureSetting</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>Auto<span class="nt">&lt;/apertureSetting&gt;</span>
</span><span class='line'><span class="nt">&lt;fNumber</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>3.7<span class="nt">&lt;/fNumber&gt;</span>
</span><span class='line'><span class="nt">&lt;gain</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>-3 dB<span class="nt">&lt;/gain&gt;</span>
</span><span class='line'><span class="nt">&lt;exposureTime</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>1/60<span class="nt">&lt;/exposureTime&gt;</span>
</span><span class='line'><span class="nt">&lt;exposureProgram</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>Manual<span class="nt">&lt;/exposureProgram&gt;</span>
</span><span class='line'><span class="nt">&lt;whiteBalance</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>Daylight<span class="nt">&lt;/whiteBalance&gt;</span>
</span><span class='line'><span class="nt">&lt;imageStabilization</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>On (0x3f)<span class="nt">&lt;/imageStabilization&gt;</span>
</span><span class='line'><span class="nt">&lt;focus</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>Manual (2.3)<span class="nt">&lt;/focus&gt;</span>
</span><span class='line'><span class="nt">&lt;gpsVersionID</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>2.2.0.0<span class="nt">&lt;/gpsVersionID&gt;</span>
</span><span class='line'><span class="nt">&lt;gpsStatus</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>V<span class="nt">&lt;/gpsStatus&gt;</span>
</span><span class='line'><span class="nt">&lt;gpsMapDatum</span> <span class="na">toolname=</span><span class="s">&quot;Exiftool&quot;</span> <span class="na">toolversion=</span><span class="s">&quot;9.05&quot;</span> <span class="na">status=</span><span class="s">&quot;SINGLE_RESULT&quot;</span><span class="nt">&gt;</span>WGS-84<span class="nt">&lt;/gpsMapDatum&gt;</span>
</span><span class='line'><span class="nt">&lt;/video&gt;</span>
</span><span class='line'><span class="nt">&lt;/metadata&gt;</span>
</span><span class='line'><span class="nt">&lt;/fits&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/05/30/revisiting-archival-description/">Revisiting Archival Description – LOD-LAM Session Idea</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2011-05-30T15:29:00-07:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2011</span></span> <span class='time'>3:29 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Apologies for the brevity of this blog post – I’m keeping this brief to make sure I get it posted before LOD-LAM.</p>

<p>So, archival description.</p>

<p>Archival records are hard to find. They’re often in large bodies of records, difficult to browse through and generally less cut-and-dry than publications which are intended for formal publication and/or public consumption. Archival finding aids are the researcher’s traditional first point of contact, providing background biographical information on the organization and/or personal creator(s), as well as a description of how the records are arranged and description of the various levels of organizational hierarchy. They’re useful!</p>

<p>But they’re also a bit old-fashioned, at least as typically implemented. The finding aid structure imposes a few issues for linked open data applications.</p>

<p>I see two[^1] major problems with current archival description:</p>

<h3>They’re hierarchical</h3>

<p>Most countries’ archival description standards are based on a strict hierarchy from higher levels of description (fonds, etc.) to more precise levels of description (series, sub-series, file, item) with fairly rigidly prescribed relationships between items. The finding aid also assumes a “paper” whole-body approach, rather than a linking approach. This is kind of non-webby, and imposes a stricter order on documents than their creators may have had, in many cases.</p>

<p>(The Australians, of course, are a few steps ahead of the rest of us already.)</p>

<p>Perhaps even more though, a major problem is that:</p>

<h3>They’re imprecise.</h3>

<p>This is the real issue, or at least the most immediate issue. Archival descriptions are designed for human eyes in a paper world, and so they’re often encoded with a level of ambiguity that’s difficult for machines to extract. (<a href="http://archiveshub.ac.uk/blog/?p=2401">LOCAH</a> has been doing a great job of identifying points of concern and trying to route around them.)</p>

<p>Archival descriptions have some inherent ambiguity because interpretation of archival holdings is not always cut and dry, but that doesn’t mean that we have to be ambiguous in how we create those descriptions. We can be precise about the ways in which our collections are ambiguous.</p>

<p>I’d love to get a conversation going about revising descriptive standards to enhance precision in finding aids in order to enhance the ability to use them as computer-readable metadata. I can see a number of areas for improvement:</p>

<ul>
<li>More strongly-typed data fields, rather than “fuzzy” fields that can hold a variety of types of subjectively-defined data</li>
<li>More focus on “globally-scoped” names rather than “locally scoped” (as pointed out by Pete@LOCAH <a href="http://blogs.ukoln.ac.uk/locah/2010/11/16/identifying-the-things-uri-patterns-for-the-hub-linked-data/">here</a>)</li>
<li>A stricter, clearer inheritance model rather than ISAD(G)’s rule of non-repetition (Thanks to Pete <a href="http://web.archive.org/web/20110520025412/http://blogs.ukoln.ac.uk/locah/2010/09/28/model-a-first-cut/">again</a>)</li>
<li>Certainly more, which we can talk about at LOD-LAM!</li>
</ul>


<p>The extent to which all this can be implemented will depend on the organization, of course – retrofitting older archival descriptions for all of this would be time-consuming, if practical at all. But I think there are a lot of benefits to be gained by changing practices going forward, and I see this as an enhancement to current descriptive standards/practices that can benefit more than just linked open data applications.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/index.html">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/blog/2015/12/03/flat-whites-in-vancouver/">Flat Whites in Vancouver</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2015/06/21/release-asuka-120-percent-limit-over-english-translation/">Release: Asuka 120% Limit Over English Translation</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2015/05/16/attack-the-vector/">Attack the Vector</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2015/05/02/reevaluate/">Reevaluate</a>
      </li>
    
      <li class="post">
        <a href="/blog/blog/2015/01/02/widescreen-gaming-in-the-90s/">Widescreen Gaming in the 90s</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Misty De Meo -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
